<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quran Mushaf</title>
  <link rel="icon" type="image/svg+xml" href="../assets/img/favicon/favicon.svg">
  <link rel="alternate icon" href="../assets/img/favicon/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="../assets/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="96x96" href="../assets/img/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="192x192" href="../assets/img/favicon/web-app-manifest-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="../assets/img/favicon/web-app-manifest-512x512.png">
  <link rel="manifest" href="../assets/img/favicon/site.webmanifest">
  <meta name="theme-color" content="#0c3e18">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri+Quran&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <link rel="stylesheet" href="../assets/css/pages.css" />
</head>
<body data-mode="mushaf">
    <header class="app-header">
    <div class="brand">
      <a class="brand-logo" href="index.html" aria-label="Quran Reviser home">
        <img src="../assets/img/favicon/favicon.svg" alt="Quran Reviser logo">
      </a>
      <a class="back-link" href="surahs.html">List</a>
      <h1>Quran Mushaf</h1>
    </div>
    <div class="header-actions"></div>
  </header>

  <div class="toolbar compact">
    <div class="row" id="player">
      <div class="actions">
        <button id="controls-open" class="btn">Controls</button>
      </div>
    </div>
  </div>

  <main class="mushaf-wrap">
    <button id="nav-prev" class="nav-arrow left"><-</button>
    <img id="mushaf-img" class="mushaf-img" alt="Quran Page" />
    <canvas id="mushaf-canvas" class="mushaf-img" style="display:none;"></canvas>
    <button id="nav-next" class="nav-arrow right">-></button>
  </main>
  <!-- Drawer -->
    <aside id="control-drawer" class="drawer" aria-hidden="true" tabindex="-1">
    <div class="drawer-head">
      <h2>Controls</h2>
      <button id="drawer-close" class="btn">Close</button>
    </div>
    <div class="drawer-body stack">
    
      <div class="card stack" id="playback-quick">
        <h3 class="card-title">Playback</h3>
        <div class="row compact-row">
          <button id="prev-page" class="btn small">Prev Page</button>
          <span id="page-info" class="muted">-</span>
          <button id="next-page" class="btn small">Next Page</button>
        </div>
        <div class="row compact-row">
          <button id="prev-ayah" class="btn small">Prev Ayah</button>
          <button id="play-pause" class="btn primary small">Play</button>
          <button id="next-ayah" class="btn small">Next Ayah</button>
        </div>
      </div>

      <div class="card stack" id="playback-card">
        <h3 class="card-title">Playback Range</h3>
        <p class="muted small">Select any Surah and ayah to create a loop that plays across pages.</p>
        <div class="range-pickers">
          <div class="range-picker">
            <span class="muted">Start</span>
            <div class="range-picker-row">
              <select id="range-start-surah"></select>
              <select id="range-start-ayah"></select>
            </div>
          </div>
          <div class="range-picker">
            <span class="muted">End</span>
            <div class="range-picker-row">
              <select id="range-end-surah"></select>
              <select id="range-end-ayah"></select>
            </div>
          </div>
        </div>
        <label class="option"><input type="checkbox" id="loop-one"> Loop current ayah</label>
        <div class="row actions-tight">
          <button class="btn" id="range-clear">Clear Range</button>
        </div>
        <div class="muted" id="range-status">Start: -, End: -</div>
      </div>

      <div class="card stack" id="page-card">
        <h3 class="card-title">Page Notes</h3>
        <div class="row">
          <button class="btn" id="bm-toggle">Bookmark this page</button>
          <div class="muted" id="bm-status"></div>
        </div>
        <label class="option" for="note-text"><span class="muted">Notes for this page</span></label>
        <textarea id="note-text" rows="3" placeholder="Type your reflection or reminder"></textarea>
        <label class="option" for="conf-select"><span class="muted">Confidence level</span></label>
        <select id="conf-select">
          <option value="">-</option>
          <option value="weak">Weak</option>
          <option value="ok">Okay</option>
          <option value="strong">Strong</option>
        </select>
      </div>

      <div class="card stack">
        <p class="muted">Need a scrolling text view? <a id="to-reader" class="inline-link" href="reader.html">Open Reader view</a>.</p>
      </div>
    </div>
  </aside>
  <div id="drawer-backdrop" class="drawer-backdrop" hidden></div>

  <audio id="audio" preload="none"></audio>

  <!-- core -->
  <script src="../assets/js/core/profiles.js"></script>
  <script src="../assets/js/core/confidence.js"></script>
  <script src="../assets/js/core/review.js"></script>
  <script src="../assets/js/core/prefs.js"></script>
  <script src="../assets/js/core/utils.js"></script>
  <script src="../assets/js/core/api.js"></script>
  <script src="../assets/js/chapters-data.js"></script>
  <script src="../assets/js/core/page-data.js"></script>
  <script src="../assets/js/core/control-panel.js"></script>
  <script src="../assets/js/core/streaks.js"></script>
  <!-- page -->
  <script src="../assets/js/mushaf.js"></script>
</body>
</html>